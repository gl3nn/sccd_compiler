<?xml version="1.0" encoding="UTF-8" ?>
<class name="StateChartWindow">
    <relationships>
        <association class="Toolbar" name="toolbar" max="1"/>
        <association class="Canvas" name="canvas" max="1"/>
    </relationships>
    <attribute type="SGUITopLevel" name="window_widget"/>
    <attribute type="XElement" name="xml"/>
    <constructor>
        <parameter type="SGUITopLevel" name="window_widget"/>
        <parameter type="XElement" name="class_xml"/>
        <body>
            <![CDATA[
            this.window_widget = window_widget;
            this.window_widget.addChild(new SGUIVerticalGroup());
            this.xml = new XElement("scxml");
            class_xml.Add(this.xml);
            ]]>
        </body>
    </constructor>
    <scxml initial="toolbar_creation">
        <state id="toolbar_creation">
            <transition target="../toolbar_activation">
                <raise scope="cd" event="create_instance">
                    <parameter expr='"toolbar"' />
                    <parameter expr='"Toolbar"'/>
                    <parameter expr='this.window_widget' />
                </raise>
            </transition>
        </state>
        <state id="toolbar_activation">
            <transition event="instance_created" target="../canvas_creation">
                <raise scope="cd" event="associate_instance">
                    <parameter expr='"."' />
                    <parameter expr='"toolbar/window"'/>
                </raise>
                <raise scope="cd" event="start_instance">
                    <parameter expr='"toolbar"' />
                </raise>
            </transition>
        </state>
        <state id="canvas_creation">
            <transition target="../canvas_activation">
                <raise scope="cd" event="create_instance">
                    <parameter expr='"canvas"' />
                    <parameter expr='"Canvas"'/>
                    <parameter expr='this.window_widget' />
                </raise>
            </transition>
        </state>
        <state id="canvas_activation">
            <transition event="instance_created" target="../main">
                <raise scope="cd" event="associate_instance">
                    <parameter expr='"."' />
                    <parameter expr='"canvas/window"'/>
                </raise>
                <raise scope="cd" event="associate_instance">
                    <parameter expr='"canvas"' />
                    <parameter expr='"toolbar/canvas"'/>
                </raise>
                <raise scope="cd" event="start_instance">
                    <parameter expr='"canvas"' />
                </raise>
            </transition>
        </state>
        <state id="main">
        </state>
    </scxml>
</class>
